<pundit_agent>

  # list of VOs/groups using PuNDIT that this agent belongs to, comma delimited list
  measurement_federations   federation1

  # One configuration per measurement federation, must match previous list
  <federation1>
  
    # list of peer hostnames in this site, comma delimited list
    peers   a,b,c,d

    # owamp parameters for this federation. This should match what is configured in mesh config/regular testing
    <owamp_params>
      
      # number of samples in a owamp file
      sample_count	600
      
      # interval between packets (in seconds)
      packet_interval	0.1
      
    </owamp_params>
    
    <detection>
    
      # This is the maximum delay you will tolerate. Xms or X%
      delay_max   10ms
      # This is the percentage of problematic samples per 5s before a problem is detected
      delay_threshold 50%
        
      # This is the % of lost packets you will tolerate per 5s
      loss_threshold    10%
      
    </detection>
    
    # reporting configuration
    <reporting>
    
      # Reporting type: mysql, rabbitmq
      type  mysql
      
      # mySQL parameters
      <mysql>
        host    localhost
        port    3306
        database   pythia
        user    <add-mysql-user-here>
        password  <add-mysql-user-password-here>
      </mysql>
      
      # RabbitMQ parameters
      <rabbitmq>
        consumer    pundit.aglt2.org
        user        <add-rabbitmq-user-here>
        password    <add-rabbitmq-user-password-here>
        channel     3
        routing_key pundit.status
        exchange    status
      </rabbitmq>
      
    </reporting>
    
  </federation1>
  
  # These are independent of federation
  <owamp_data>
  
    # path to owamp data 
    path /var/lib/perfsonar/regulartesting/
    
    # When cleaning old owamp data, retain files X hours old
    cleanup_threshold 1
    
    # debug flag to save problematic owamp traces  
    save_problems 1
    
    # debug path to save problematic owamp traces
    save_problems_path  /opt/pundit_agent/savedProblems/
    
  </owamp_data>
  
  <log>
  
    # Path and filename of log file
    filename /var/log/pundit_agent.log
    
  </log>
  
  # check_mk values
  <check_mk>
  
    # interval in seconds to report # of processed files
    processed_count_interval    60
    
    # file to write processed_count value
    processed_count_path    /opt/pundit_agent/processed_count
    
  </check_mk>
  
</pundit_agent>

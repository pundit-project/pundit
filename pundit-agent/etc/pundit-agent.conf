<pundit-agent>
  # THIS IS FOR TEST&DEVELOPMENT.
  # Note: Search on word 'here' to locate fields for user-provided values

  # comma delimited list of VOs/groups using PuNDIT that this agent belongs to
  measurement_federations   federation-dev

  # specify the perfsonar hostname for this agent
  # leave it blank if this agent is installed on its perfsonar host. 
  src_host psum05.aglt2.org


  # One configuration per measurement federation, must match elements of measurement_federations
  <federation-dev>
  
    # list of peer hostnames in this site, comma delimited list
	peers psonar-owamp.brazos.tamu.edu, psum09.cc.gt.atl.ga.us, psum05.aglt2.org, uct2-net3.mwt2.org, iut2-net3.iu.edu, ps-development.bnl.gov, perfsonar.unl.edu, netmon1.atlas-swt2.org, psmsu05.aglt2.org, ps3.ochep.ou.edu, nettest.lbl.gov, mwt2-ps03.campuscluster.illinois.edu, perfsonar03-iep-grid.saske.sk perfsonar.soichi.us

    # owamp parameters for this federation. This should match what is configured in mesh config/regular testing
    <owamp_params>
      
      # number of samples in a owamp file
      sample_count	600
      
      # interval between packets (in seconds)
      packet_interval	0.1
      
    </owamp_params>
    
    <detection>
    
      # This is the maximum delay you will tolerate. Xms or X%
      delay_max   10ms
      # This is the percentage of problematic samples per 5s before a problem is detected
      delay_threshold 50%
        
      # This is the % of lost packets you will tolerate per 5s
      loss_threshold    10%
      
    </detection>
    
    # reporting configuration
    <reporting>
    
      # RabbitMQ parameters
      <rabbitmq>
        consumer   	localhost 
        user        pundit-agent 
        password    pundit-pass 
        channel     3 
        routing_key pundit.status
        exchange    status
      </rabbitmq>
      
    </reporting>
    
  </federation-dev>
  
  # These are independent of federation
  <owamp_data>
  
    # path to owamp data 
    path /var/lib/perfsonar/regulartesting/
    
    # When cleaning old owamp data, retain files X hours old
    cleanup_threshold 1
    
    # debug flag to save problematic owamp traces  
    save_problems 1
    
    # debug path to save problematic owamp traces
    save_problems_path  /opt/pundit-agent/savedProblems/
    
  </owamp_data>
  
  <log>
  
    # Path and filename of log file
    filename /var/log/perfsonar/pundit-agent.log
    
  </log>
  
  # check_mk values
  <check_mk>
  
    # interval in seconds to report # of processed files
    processed_count_interval    60
    
    # file to write processed_count value
    processed_count_path    /opt/pundit-agent/processed_count
    
  </check_mk>
  
</pundit-agent>
